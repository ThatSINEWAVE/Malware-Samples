import os


def create_html_files(source_folder, destination_folder):
    # Check if the destination folder exists, if not, create it
    if not os.path.exists(destination_folder):
        os.makedirs(destination_folder)

    # Get the names of all folders inside the source folder
    folder_names = os.listdir(source_folder)

    # Iterate over each folder name
    for folder_name in folder_names:
        # Construct the path to the folder
        folder_path = os.path.join(source_folder, folder_name)

        # Check if it's a directory
        if os.path.isdir(folder_path):
            # Construct the path for the new HTML file
            html_file_path = os.path.join(destination_folder, folder_name + ".html")

            # Check if an HTML file with the same name already exists
            if not os.path.exists(html_file_path):
                # Create the HTML content
                html_content = f"""
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RAT Malware 101 - Malware Education Hub</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="../styles/main.css">
  <link rel="icon" href="../assets/icons/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" sizes="180x180" href="../site-data/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../assets/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../assets/images/favicon-16x16.png">
  <link rel="manifest" href="../assets/site.webmanifest">
</head>

<body>

  <header>
    <nav>
      <a href="../index.html" class="logo">Malware Education Hub</a>
      <div class="nav-links">
        <a href="https://github.com/ThatSINEWAVE/Malware-Samples">GitHub</a>
        <a href="https://ko-fi.com/thatsinewave">Support</a>
        <a href="https://discord.com/invite/2nHHHBWNDw">Discord</a>
      </div>
    </nav>
  </header>
  
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="../index.html">Home</a></li>
      <li class="breadcrumb-item"><a href="../ransomware.html">Ransomware</a></li>
      <li class="breadcrumb-item active" aria-current="page">{folder_name}</li>
    </ol>
  </nav>
  
  <main>
  
    <section class="article-content box">
      <h1>{folder_name}</h1>
      <p>Article text</p>
    </section>
    
    <section class="article-content box">
      <h2>How it works?</h2>
      <p>Article text</p>
    </section>
    
    <section class="article-content box">
      <h2>What is the target?</h2>
      <p>Article text</p>
    </section>
    
    <section class="article-content box">
      <h2>Who created it?</h2>
      <p>Article text</p>
    </section>
    
    <section class="box warning">
      <h2>Warning</h2>
      <p>The information provided on this website is intended for educational purposes only. It should not be used to create, distribute, or execute any malicious software. We strongly condemn the use of malware for illegal or unethical activities.</p>
      <p>Malware samples can cause harm to your computer system and compromise your security. Handle these samples with extreme care and only in isolated environments. Do not execute these samples on any system connected to the internet or any network containing sensitive information.</p>
      <p>The maintainer and contributors of this repository, both past, present, and future, are not responsible for any loss of data, system damage, or other consequences resulting from the mishandling of the samples provided herein. Caution is advised when testing any file present in this repository.</p>
    </section>
    
    <a href="https://github.com/ThatSINEWAVE/Malware-Samples/tree/main/Samples/{folder_name}" class="github-link">View Sample on GitHub</a>
    
  </main>

  <footer>
    <p>Malware Education Hub</p>
  </footer>
  
</body>

</html>
"""
                # Write the HTML content to the file
                with open(html_file_path, 'w') as html_file:
                    html_file.write(html_content)
                print(f"HTML file created for {folder_name}.")
            else:
                print(f"HTML file already exists for {folder_name}, skipping.")


if __name__ == "__main__":
    # Define the source folder where the folder names are located
    source_folder = "../Samples"

    # Define the destination folder where HTML files will be created
    destination_folder = "../docs/pages"

    # Call the function to create HTML files
    create_html_files(source_folder, destination_folder)

    print("HTML files created successfully.")
